/*! For license information please see main.bundle.js.LICENSE.txt */
var main;main=(()=>{var e={8390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"state-diagram/StateViz.css"},5820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"tape/tape.css"},9920:e=>{e.exports="input: '${2}'\nblank: '${3: }'\nstart state: ${4:start}\ntable:\n  ${4}:\n    ${5}\n"},7492:e=>{e.exports="name: binary addition\nsource code: |\n  # Adds two binary numbers together.\n\n  # Format: Given input a+b where a and b are binary numbers,\n  # leaves c b on the tape, where c = a+b.\n  # Example: '11+1' => '100 1'.\n  input: '1011+11001'\n  blank: ' '\n  start state: right\n  table:\n    # Start at the second number's rightmost digit.\n    right:\n      [0,1,+]: R\n      ' ': {L: read}\n\n    # Add each digit from right to left:\n    # read the current digit of the second number,\n    read:\n      0: {write: c, L: have0}\n      1: {write: c, L: have1}\n      +: {write: ' ', L: rewrite}\n    # and add it to the next place of the first number,\n    # marking the place (using O or I) as already added.\n    have0: {[0,1]: L, +: {L: add0}}\n    have1: {[0,1]: L, +: {L: add1}}\n    add0:\n      [0,' ']: {write: O, R: back0}\n      1      : {write: I, R: back0}\n      [O,I]  : L\n    add1:\n      [0,' ']: {write: I, R: back1}\n      1      : {write: O, L: carry}\n      [O,I]  : L\n    carry:\n      [0,' ']: {write: 1, R: back1}\n      1      : {write: 0, L}\n    # Then, restore the current digit, and repeat with the next digit.\n    back0:\n      [0,1,O,I,+]: R\n      c: {write: 0, L: read}\n    back1:\n      [0,1,O,I,+]: R\n      c: {write: 1, L: read}\n\n    # Finish: rewrite place markers back to 0s and 1s.\n    rewrite:\n      O: {write: 0, L}\n      I: {write: 1, L}\n      [0,1]: L\n      ' ': {R: done}\n    done:\n\n\n  # Exercise:\n\n  # • Generate the Fibonacci sequence in binary, listed from right to left:\n  #   ...1101 1000 101 11 10 1 1 0\n  #   Hint: prefix the current number with a +, copy the previous number\n  #   and place it left of the +, run the adder, and repeat.\n  #   Example: '1 0' => '+1 0' => '0+1 0' => '1 1 0' => '+1 1 0' => ...\npositions:\n  right:   {x: 300, y: 130}\n  rewrite: {x: 500, y: 130}\n  done:    {x: 620, y: 130}\n\n  back0:  {x: 250, y: 250}\n  read:   {x: 400, y: 250}\n  back1:  {x: 550, y: 250}\n  carry:  {x: 650, y: 250}\n\n  add0:   {x: 150, y: 400}\n  have0:  {x: 300, y: 400}\n  have1:  {x: 500, y: 400}\n  add1:   {x: 650, y: 400}\n"},8580:e=>{e.exports="name: binary increment\nsource code: |\n  # Adds 1 to a binary number.\n  input: '1011'\n  blank: ' '\n  start state: right\n  table:\n    # scan to the rightmost digit\n    right:\n      [1,0]: R\n      ' '  : {L: carry}\n    # then carry the 1\n    carry:\n      1      : {write: 0, L}\n      [0,' ']: {write: 1, L: done}\n    done:\n\n\n  # Exercises:\n\n  # • Modify the machine to always halt on the leftmost digit\n  #   (regardless of the number's length).\n  #   Hint: add a state between carry and done.\n\n  # • Make a machine that adds 2 instead of 1.\n  #   Hint: 2 is '10' in binary, so the last digit is unaffected.\n  #   Alternative hint: chain together two copies of the machine from\n  #   the first exercise (renaming the states of the second copy).\n\n  # • Make a machine to subtract 1.\n  #   To simplify things, assume the input is always greater than 0.\npositions:\n  right: {x: 230, y: 250}\n  carry: {x: 400, y: 250}\n  done: {x: 570, y: 250}\n"},4856:e=>{e.exports="name: binary multiplication\nsource code: |\n  # Multiplies two binary numbers together.\n\n  # Examples: '11*11' => '1001', '111*110' => '101010'.\n  input: '11*101' # 3*5 = 15 (1111 in binary)\n  blank: ' '\n  start state: start\n  table:\n    # Prefix the input with a '+', and go to the rightmost digit.\n    start:\n      [0,1]: {L: init}\n    init:\n      ' ': {write: '+', R: right}\n    right:\n      [0,1,'*']: R\n      ' ': {L: readB}\n\n    # Read and erase the last digit of the multiplier.\n    # If it's 1, add the current multiplicand.\n    # In any case, double the multiplicand afterwards.\n    readB:\n      0: {write: ' ', L: doubleL}\n      1: {write: ' ', L: addA}\n    addA:\n      [0,1]: L\n      '*': {L: read} # enter adder\n    # Double the multiplicand by appending a 0.\n    doubleL:\n      [0,1]: L\n      '*': {write: 0, R: shift}\n    double: # return from adder\n      [0,1,+]: R\n      '*': {write: 0, R: shift}\n    # Make room by shifting the multiplier right 1 cell.\n    shift:\n      0: {write: '*', R: shift0}\n      1: {write: '*', R: shift1}\n      ' ': {L: tidy} # base case: multiplier = 0\n    shift0:\n      0:   {R: shift0}\n      1:   {write: 0, R: shift1}\n      ' ': {write: 0, R: right}\n    shift1:\n      0:   {write: 1, R: shift0}\n      1:   {R: shift1}\n      ' ': {write: 1, R: right}\n\n    tidy:\n      [0,1]: {write: ' ', L}\n      +: {write: ' ', L: done}\n    done:\n\n  # This is the 'binary addition' machine almost verbatim.\n  # It's adjusted to keep the '+'\n  # and to lead to another state instead of halting.\n    read:\n      0: {write: c, L: have0}\n      1: {write: c, L: have1}\n      +: {L: rewrite} # keep the +\n    have0: {[0,1]: L, +: {L: add0}}\n    have1: {[0,1]: L, +: {L: add1}}\n    add0:\n      [0,' ']: {write: O, R: back0}\n      1      : {write: I, R: back0}\n      [O,I]  : L\n    add1:\n      [0,' ']: {write: I, R: back1}\n      1      : {write: O, L: carry}\n      [O,I]  : L\n    carry:\n      [0,' ']: {write: 1, R: back1}\n      1      : {write: 0, L}\n    back0:\n      [0,1,O,I,+]: R\n      c: {write: 0, L: read}\n    back1:\n      [0,1,O,I,+]: R\n      c: {write: 1, L: read}\n    rewrite:\n      O: {write: 0, L}\n      I: {write: 1, L}\n      [0,1]: L\n      ' ': {R: double} # when done, go to the 'double' state\n\n\n  # Remark:\n  # We can view the machine as expressing a recursive function:\n\n  #   multiply(a, b) = mult(0, a, b)\n\n  #   mult(acc, a, 0     ) = acc\n  #   mult(acc, a, 2k + 0) = mult(acc    , 2a, k)   where k ≠ 0\n  #   mult(acc, a, 2k + 1) = mult(acc + a, 2a, k)\n\n  # where a, b, and k are natural numbers.\n\n  # Each reduction maintains the invariant\n  #   mult(acc, a, b) = acc + a * b\n  # Note that mult's third argument (b) is always decreasing,\n  # so mult is guaranteed to halt.\n  # Eventually b reaches 0 and the result is simply the accumulator.\npositions:\n  start:  {x: 80 , y: 70}\n  init:   {x: 190, y: 70}\n  tidy:   {x: 730, y: 70}\n  done:   {x: 730, y: 180}\n\n  right:  {x: 300, y: 115}\n  shift:  {x: 600, y: 115}\n  shift1: {x: 450, y: 70}\n  shift0: {x: 450, y: 160}\n\n  readB:  {x: 300, y: 215}\n  addA:   {x: 160, y: 215}\n  doubleL: {x: 550, y: 215}\n\n  rewrite: {x: 363, y: 300}\n  double: {x: 650, y: 300}\n\n  back0:  {x: 160, y: 370}\n  read:   {x: 300, y: 370}\n  back1:  {x: 440, y: 370}\n  carry:  {x: 540, y: 370}\n\n  add0:   {x:  60, y: 470}\n  have0:  {x: 200, y: 470}\n  have1:  {x: 400, y: 470}\n  add1:   {x: 540, y: 470}\n"},1428:e=>{e.exports="name: 3-state busy beaver\nsource code: |\n  # A 3-state 2-symbol busy beaver for most non-blank symbols.\n  # It takes 13 steps and leaves 6 non-blank symbols on the tape.\n\n  # What's a \"busy beaver\"?\n  #   Suppose every possible Turing machine with n states and k symbols\n  #   (for instance, 3 states and 2 symbols) were started on\n  #   a blank tape with no input.\n  #   Some of the machines would never halt. Out of the ones that do halt,\n  #   a machine that leaves the most non-blank symbols on the tape\n  #   is called a busy beaver.\n  blank: '0'\n  start state: A\n  table:\n    A:\n      0: {write: 1, R: B}\n      1: {L: C}\n    B:\n      0: {write: 1, L: A}\n      1: R\n    C:\n      0: {write: 1, L: B}\n      1: {R: H}\n    H:\n\n  # An alternative criterion is halting after the most steps.\n  # This busy beaver takes the most steps (21) but only prints 5 1's:\n    # A:\n    #   0: {write: 1, R: B}\n    #   1: {R: H}\n    # B:\n    #   0: {write: 1, L: B}\n    #   1: {write: 0, R: C}\n    # C:\n    #   0: {write: 1, L}\n    #   1: {L: A}\n    # H:\n\n\n  # Exercise:\n\n  # • Consider Turing machines that have n states and k symbols.\n  #   Instead of a missing instruction, halting is denoted by\n  #   a transition to a special \"halt\" state (for a total of n+1 states).\n  #   How many different transition functions are possible?\n\n  #   Hint: Each instruction writes a symbol, moves left or right,\n  #   and goes to a state.\n  #   There is one instruction per combination of non-halt state & symbol.\n\n\n\n  #   Answer: (2k(n+1))^(nk)\npositions:\n  A: {x: 320, y: 296.188}\n  B: {x: 400, y: 157.624}\n  C: {x: 480, y: 296.188}\n  H: {x: 400, y: 376.188}\n"},1812:e=>{e.exports='name: 4-state busy beaver\nsource code: |\n  # A 4-state 2-symbol busy beaver\n  # that halts after 107 steps, leaving 13 1\'s on the tape.\n  # It takes the most steps *and* prints the most 1\'s.\n  blank: 0\n  start state: A\n  table:\n    A: {0: {write: 1, R: B}, 1:           {L: B}}\n    B: {0: {write: 1, L: A}, 1: {write: 0, L: C}}\n    C: {0: {write: 1, R: H}, 1:           {L: D}}\n    D: {0: {write: 1, R   }, 1: {write: 0, R: A}}\n    H:\n\n\n  # Finding a busy beaver requires considering every n-state k-symbol\n  # machine and proving either that it halts with no more non-blank symbols\n  # or that it never halts at all.\n\n  # Even with strategies to reduce the search space—\n  # including normalization, accelerated simulation, and automated proofs—\n  # there are still machines that show surprising complexity\n  # and require individual analysis.\n\n  # This 4-state busy beaver was proven by Allen Brady in 1983.\n  # Busy beavers for 5 states and above are as yet unknown.\n  # At the time of writing, the current 5-state 2-symbol contender\n  # takes 47,176,870 steps to halt, and the 6-state contender\n  # takes over 7.4 * 10^36534 steps\n  # (http://www.logique.jussieu.fr/~michel/bbc.html).\n  # "Given that 5-state 2-symbol halting Turing machines can compute\n  # Collatz-like congruential functions, it may be very hard to find\n  # [the next busy beaver]" (https://oeis.org/A060843).\n\n\n  # An entertaining read on busy beavers and their profoundness:\n\n  # • "Who Can Name the Bigger Number?"\n  #   http://www.scottaaronson.com/writings/bignumbers.html\npositions:\n  # square with side length 160\n  A: {x: 320, y: 170}\n  B: {x: 480, y: 170}\n\n  C: {x: 480, y: 330}\n  D: {x: 320, y: 330}\n  H: {x: 620, y: 330}\n'},6890:e=>{e.exports="name: copy 1s\nsource code: |\n  # Copies a string of consecutive 1s.\n  input: '111'\n  blank: 0\n  start state: each\n  table:\n    # mark the current 1 by erasing it\n    each:\n      0: {R: H}\n      1: {write: 0, R: sep}\n    # skip to the separator\n    sep:\n      0: {R: add}\n      1: R\n    # skip to the end of the copy and write a 1\n    add:\n      0: {write: 1, L: sepL}\n      1: R\n    # return to the separator\n    sepL:\n      0: {L: next}\n      1: L\n    # return to the erased 1, restore it, and then advance to the next 1\n    next:\n      0: {write: 1, R: each}\n      1: L\n    H:\n\n\n  # Exercises:\n\n  # • Edit the machine to copy the string indefinitely,\n  #   i.e. given the input '11', produce 11011011011...\n  #   Hint: this can be done by modifying only one transition.\n\n  # • Make a machine to output the endless sequence 1011011101111011111...\npositions:\n  each: {x: 400   , y: 100}\n  sep:  {x: 400.01, y: 250}\n  add:  {x: 400.02, y: 400}\n  sepL: {x: 250   , y: 250}\n  next: {x: 250.01, y: 100}\n  H:    {x: 550   , y: 100}\n"},7525:e=>{e.exports="name: divisible by 3\nsource code: |\n  # Checks if a binary number is divisible by 3.\n  input: '1001' # try '1111' (15), '10100' (20), '111001' (57)\n  blank: ' '\n  # How it works:\n\n  # Consider reading a binary number, say 10011 (19),\n  # from left to right one digit at a time.\n  # Each time a digit is read, the new value equals the new digit\n  # plus the old value shifted left one place (multiplied by 2).\n\n  # Digits  Value\n  # -------------\n  #         0\n  # 1       1\n  # 10      2\n  # 100     4\n  # 1001    9\n  # 10011   19\n\n  # Now instead of tracking the entire number, just track the remainder.\n  # It works the same way.\n  start state: q0\n  table:\n    q0:\n      0: R       # 2*0 + 0 = 0\n      1: {R: q1} # 2*0 + 1 = 1\n      ' ': {R: accept}\n    q1:\n      0: {R: q2} # 2*1 + 0 = 2\n      1: {R: q0} # 2*1 + 1 = 3\n    q2:\n      0: {R: q1} # 2*2 + 0 = 4\n      1: {R: q2} # 2*2 + 1 = 5\n    accept:\n\n\n  # Exercises:\n\n  # • Modify the machine to check if n-1 is divisible by 3,\n  #   where n is the input. That is, accept the binary of 1, 4, 7, 10, ...\n  #   Hint: this can be done without modifying the tape (no 'write').\n\n  # • Round the number up to the nearest multiple of 3.\n  #   Hint: do one pass right to find the remainder, then another pass left\n  #   to add. See the 'binary increment' example for how to add.\n\n  # • Round the number down to the nearest multiple of 3.\npositions:\n  q0: {x: 230, y: 250}\n  q1: {x: 400, y: 250}\n  q2: {x: 570, y: 250}\n  accept: {x: 230.01, y: 380}\n"},1542:e=>{e.exports="name: divisible by 3 (base 10)\nsource code: |\n  # Checks if a base 10 number is divisible by 3.\n  input: 4728 # try 42, 57, 1337, 5328, 7521, 314159265\n  blank: ' '\n  # This uses the same idea as the base 2 version.\n  #\n  # To make things more interesting, we derive the step relation:\n  # Let x be the number left of the tape head,\n  #     d the digit under the head, and\n  #     x' the number up to and including the head.\n  # Then\n  #   x' = 10x + d .\n  # Notice 10 ≡ 1 (mod 3). Therefore\n  #   x' ≡ x + d (mod 3) .\n  # Each step simply adds the new digit's remainder mod 3.\n  start state: q0\n  table:\n    q0:\n      [0,3,6,9]: R     # 0 + 0 ≡ 0 (mod 3)\n      [1,4,7]: {R: q1} # 0 + 1 ≡ 1\n      [2,5,8]: {R: q2} # 0 + 2 ≡ 2\n      ' ': {R: accept}\n    q1:\n      [0,3,6,9]: R     # 1 + 0 ≡ 1\n      [1,4,7]: {R: q2} # 1 + 1 ≡ 2\n      [2,5,8]: {R: q0} # 1 + 2 ≡ 0\n    q2:\n      [0,3,6,9]: R     # 2 + 0 ≡ 2\n      [1,4,7]: {R: q0} # 2 + 1 ≡ 0\n      [2,5,8]: {R: q1} # 2 + 2 ≡ 1\n    accept:\n\n\n  # Exercises:\n\n  # • Check for divisibility by 5.\n  #   Hint: only 2 states (besides accept) are required.\n\n  # • Check for divisibility by 4.\n  #   Hint: use 4 states (besides accept).\npositions:\n  # centered equilateral triangle with side length 250\n  q0: {x: 275, y: 322.1688}\n  q1: {x: 400, y: 105.6624}\n  q2: {x: 525, y: 322.1688}\n  accept: {x: 275.01, y: 430}\n"},9601:e=>{e.exports="name: multiplied lengths\nsource code: |\n  # Decides the language { a^(i)b^(j)c^(k) | i*j = k and i,j,k ≥ 1 }.\n  # (a's followed by b's then c's,\n  # where the number of a's multiplied by the number of b's\n  # equals the number of c's.)\n  input: aabbbcccccc # try abc, b, aabcbc, aabcc, aabbbbcccccccc\n  blank: ' '\n  start state: start\n\n  table:\n    # Check for the form a^(i)b^(j)c^(k) where i,j,k ≥ 1.\n    start:  {        a: {R: a+}}\n    a+:     {a: R,   b: {R: b+}}\n    b+:     {b: R,   c: {R: c+}}\n    c+:     {c: R, ' ': {L: left}}\n    left:\n      [a,b,c]: L\n      ' ': {R: eachA}\n    # Then check that i*j = k.\n    #   The approach is two nested loops:\n    #   For each 'a':\n    #     For each 'b':\n    #       Mark one 'c'\n    #   At the end, check that all c's are marked.\n    eachA:\n      a: {write: ' ', R: eachB}\n      b: {R: scan}\n    eachB:\n      a: R\n      b: {write: B, R: markC}\n      C: {L: nextA}\n    markC:\n      [b,C]: R\n      c: {write: C, L: nextB}\n    nextB:\n      [b,C]: L\n      B: {R: eachB}\n    nextA:\n      a: L\n      B: {write: b, L}\n      ' ': {R: eachA}\n\n    scan:\n      [b,C]: R\n      ' ': {R: accept}\n    accept:\npositions:\n  start:  {x: 180, y: 40}\n  a+:     {x: 180, y: 180}\n  b+:     {x: 180, y: 320}\n  c+:     {x: 180, y: 460}\n  left:   {x: 290, y: 320}\n\n  accept: {x: 400, y: 40}\n  eachA:  {x: 400, y: 180}\n  eachB:  {x: 400, y: 320}\n  markC:  {x: 400, y: 460}\n\n  scan:   {x: 560, y: 180}\n  nextA:  {x: 560, y: 320}\n  nextB:  {x: 560, y: 460}\n"},3536:e=>{e.exports="name: equal strings\nsource code: |\n  # Decides the language { w#w | w ∈ {0,1}* }\n  # (two equal binary strings separated by '#')\n  input: '01001#01001' # try '#', '1#10', '10#1', '10#10'\n  blank: ' '\n  # Two strings are equal if they are both the empty string,\n  # or they start with the same symbol and are equal thereafter.\n  start state: start\n  table:\n    start:\n      # Inductive case: start with the same symbol.\n      0: {write: ' ', R: have0}\n      1: {write: ' ', R: have1}\n      # Base case: empty string.\n      '#': {R: check}\n    have0:\n      [0,1]: R\n      '#': {R: match0}\n    have1:\n      [0,1]: R\n      '#': {R: match1}\n    match0:\n      x: R\n      0: {write: x, L: back}\n    match1:\n      x: R\n      1: {write: x, L: back}\n    back:\n      [0,1,'#',x]: L\n      ' ': {R: start}\n    check:\n      x: R\n      ' ': {R: accept}\n    accept:\n\n\n  # Exercises:\n\n  # • Accept if the second string is the bitwise complement\n  #   (1s and 0s swapped) of the first, e.g. accept '1101#0010'.\n\n  # • Check that a binary string has the same number of 0s and 1s;\n  #   eg., accept '001110' but reject '10010'.\n\n  # • Check if two strings are different.\n  #   Example: accept '00#001' and '0101#0111', but reject '1001#1001'.\npositions:\n  accept: {x: 80 , y: 250}\n  check:  {x: 190, y: 250}\n  # regular hexagon with side length 150\n  start:  {x: 300, y: 250}\n  back:   {x: 600, y: 250}\n  have1:  {x: 375, y: 120.10}\n  match1: {x: 525, y: 120.10}\n  have0:  {x: 375, y: 379.90}\n  match0: {x: 525, y: 379.90}\n"},7551:e=>{e.exports="name: three equal lengths\nsource code: |\n  # Decides the language { aⁿbⁿcⁿ | n ≥ 1 }, that is,\n  # accepts a's followed by b's then c's of the same length.\n  input: aabbcc # try bac, aabc, aabcc, aabcbc\n  blank: ' '\n  # Mark the first a, b, and c on each pass (by capitalizing them).\n  # All a's must precede all b's, which must precede all c's.\n  # When there are no more a's,\n  # all input symbols should have been marked.\n  start state: qA\n  table:\n    qA:\n      a: {write: A, R: qB}\n      B: {R: scan}\n    qB:\n      [a,B]: R\n      b: {write: B, R: qC}\n    qC:\n      [b,C]: R\n      c: {write: C, L: back}\n    back:\n      [a,B,b,C]: L\n      A: {R: qA}\n    scan:\n      [B,C]: R\n      ' ': {R: accept}\n    accept:\n\n\n  # Exercises:\n\n  # • Suppose a ledger starts from 0 and gains one dollar for each +\n  #   and loses one for each -. Reading left to right,\n  #   check that the account never goes into the negative.\n  #   Examples: accept '+-++' and '++-+--', reject '-++' and '++---+'.\n\n  # • Check parentheses for proper nesting,\n  #   e.g. accept '()(()()())' but reject '(()))(' and '(()('.\npositions:\n  qA: {x: 240, y: 250}\n  qB: {x: 400, y: 250}\n  qC: {x: 560, y: 250}\n  back:   {x: 400, y: 370}\n  scan:   {x: 320, y: 150}\n  accept: {x: 480, y: 150}\n"},3043:e=>{e.exports="name: palindrome\nsource code: |\n  # Accepts palindromes made of the symbols 'a' and 'b'\n  input: 'abba' # try a, ab, bb, babab\n  blank: ' '\n  start state: start\n  synonyms:\n    accept: {R: accept}\n    reject: {R: reject}\n  # A palindrome is either the empty string, a single symbol,\n  # or a (shorter) palindrome with the same symbol added to both ends.\n  table:\n    start:\n      a: {write: ' ', R: haveA}\n      b: {write: ' ', R: haveB}\n      ' ': accept # empty string\n    haveA:\n      [a,b]: R\n      ' ': {L: matchA}\n    haveB:\n      [a,b]: R\n      ' ': {L: matchB}\n    matchA:\n      a: {write: ' ', L: back} # same symbol at both ends\n      b: reject\n      ' ': accept # single symbol\n    matchB:\n      a: reject\n      b: {write: ' ', L: back} # same symbol at both ends\n      ' ': accept # single symbol\n    back:\n      [a,b]: L\n      ' ': {R: start}\n    accept:\n    reject:\n\n\n  # Exercise:\n\n  # • Modify the machine to include 'c' in the symbol alphabet,\n  #   so it also works for strings like 'cabbac'.\npositions:\n  haveA:  {x: 240, y: 185}\n  start:  {x: 400, y: 185}\n  haveB:  {x: 560, y: 185}\n\n  matchA: {x: 240, y: 315}\n  back:   {x: 400, y: 315}\n  matchB: {x: 560, y: 315}\n\n  accept: {x: 400, y: 55}\n  reject: {x: 400, y: 445}\n"},9300:e=>{e.exports="name: powers of two\nsource code: |\n  # Matches strings of 0s whose length is a power of two.\n\n  # This example comes from the textbook\n  #   \"Introduction to the Theory of Computation\" (3rd edition, 2012)\n  #   by Michael Sipser\n  # The states have been renamed (from q1, q2, etc.)\n  # to make it easier to understand.\n  input: '0000' # try '0', '000', '00000000'\n  blank: ' '\n  start state: zero\n  synonyms:\n    accept: {R: accept}\n    reject: {R: reject}\n  # The idea: divide the length by 2 repeatedly until it reaches 1.\n\n  # To do this, cross off every other 0, one pass at a time.\n  # If any pass reads an odd number of 0s (a remainder), reject right away.\n  # Otherwise if every pass halves the length cleanly,\n  # the length must be a power of two (1*2^n for n ≥ 0).\n\n  # Note that since the first 0 is never crossed off, we can simply\n  # erase it on the first pass and start the count from 1 from then on.\n  table:\n    zero:\n      0  : {write: ' ', R: one}\n      ' ': reject\n    # Base case: accept length of 1 = 2^0.\n    one:\n      0  : {write: x, R: even}\n      ' ': accept\n      x  : R\n    # Inductive case: divide by 2 and check for no remainder.\n    even:\n      0  : {R: odd}\n      ' ': {L: back} # return for another pass\n      x  : R\n    odd: # odd and > 1\n      0  : {write: x, R: even}\n      ' ': reject # odd number of 0s on this pass\n      x  : R\n    back:\n      ' ': {R: one}\n      [0,x]: L\n    accept:\n    reject:\npositions:\n  zero:   {x: 200, y: 200}\n  one:    {x: 400, y: 200}\n  even:   {x: 600, y: 200}\n\n  odd:    {x: 600, y: 385}\n  back:   {x: 500, y: 125}\n  accept: {x: 400, y: 300}\n  reject: {x: 200, y: 385}\n"},9080:e=>{e.exports="name: repeat 0 1\nsource code: |\n  # This is the first example machine given by Alan Turing in his 1936 paper\n  #   \"On Computable Numbers, with an Application to\n  #    the Entscheidungsproblem\".\n  # It simply writes the endless sequence 0 1 0 1 0 1...\n  blank: ' '\n  start state: b\n  table:\n    b:\n      ' ': {write: 0, R: c}\n    c:\n      ' ':           {R: e}\n    e:\n      ' ': {write: 1, R: f}\n    f:\n      ' ':           {R: b}\n\n\n  # (Turing uses the convention of leaving a gap after each output cell,\n  # reserving it for marking the cell. For instance, on a tape that\n  # contains '0 1x0 0 1 1y1y0y', x marks the leftmost 1 and y marks 110.)\npositions:\n  b: {x: 300, y: 200, fixed: false}\n  c: {x: 450, y: 150, fixed: false}\n  e: {x: 500, y: 300, fixed: false}\n  f: {x: 350, y: 350, fixed: false}\n"},560:e=>{e.exports="name: unary multiplication\nsource code: |\n  # Multiplies together two unary numbers separated by a '*'.\n  # (Unary is like tallying. Here '||*|||' means 2 times 3.)\n  input: '||*|||' # try '*', '|*|||', '||||*||'\n  blank: ' '\n\n  # The idea:\n  #   multiply(0, b) = 0\n  #   multiply(a, b) = b + multiply(a-1, b)   when a > 0\n  start state: eachA\n  table:\n    # For each 1 in a, add a copy of b.\n    eachA:\n      '|': {write: ' ', R: toB}  # Inductive case: a > 0.\n      '*': {R: skip}             # Base case:      a = 0.\n    toB:\n      '|': R\n      '*': {R: eachB} # enter copier\n    nextA: # return from copier\n      ' ': {write: '|', R: eachA}\n      ['|','*']: L\n\n    skip:\n      '|': R\n      ' ': {R: done}\n    done:\n\n    # This is the 'copy 1s' machine, with ' ' as 0 and '|' as 1.\n    eachB:\n      ' ': {L: nextA}\n      '|': {write: ' ', R: sep}\n    sep:\n      ' ': {R: add}\n      '|': R\n    add:\n      ' ': {write: '|', L: sepL}\n      '|': R\n    sepL:\n      ' ': {L: nextB}\n      '|': L\n    nextB:\n      ' ': {write: '|', R: eachB}\n      '|': L\n\npositions:\n  eachA:  {x: 400, y:  50}\n  toB:    {x: 400, y: 150}\n  eachB:  {x: 400, y: 250}\n  sep:   {x: 400, y: 350}\n  add:   {x: 400, y: 450}\n\n  sepL:  {x: 280, y: 350}\n  nextB:  {x: 280, y: 250}\n\n  nextA:  {x: 280, y: 90}\n  skip:   {x: 520, y: 90}\n  done:   {x: 520, y: 190}\n"},8437:(e,t,n)=>{"use strict";const{KeyValueStorage:r}=n(4075),a=n(9565),o=n(5680),{defaults:s}=n(6215);class i{constructor(e){const{menu:t,storagePrefix:n,firsttimeDocID:s}=e,i=e.group||t;if(!t)throw new TypeError("DocumentMenu: missing parameter: menu element");if(!n)throw new TypeError("DocumentMenu: missing parameter: storage prefix");e.makeOption&&(this.optionFromDocument=e.makeOption),this.menu=t,this.group=i,this.group.innerHTML="",this.__storagePrefix=n,this.doclist=new c(n+".list"),this.render(),this.selectDocID(this.getSavedCurrentDocID()||s);const l=this;this.menu.addEventListener("change",(()=>{l.onChange(l.currentDocument,{type:"open"})})),r.addStorageListener((e=>{let t,n,r;e.key===l.doclist.storageKey?(l.doclist.readList(),l.render()):(t=a.IDFromNameStorageKey(e.key))&&(n=l.findOptionByDocID(t),n&&(n.parentNode.replaceChild(r=l.optionFromDocument(new a(t)),n),r.selected=n.selected,o.select(r).datum(o.select(n).datum())))}))}render(){const e=this.currentOption?this.currentOption.value:null,t=o.select(this.group).selectAll("option").data(this.doclist.list,(e=>e.id));t.exit().remove();const n=this;t.enter().insert((e=>n.optionFromDocument(new a(e.id)))),this.currentOption.value!==e&&(this.selectDocID(this.getSavedCurrentDocID(),{type:"delete"})||this.onChange(this.currentDocument,{type:"delete"}))}findOptionByDocID(e){return this.menu.querySelector('option[value="'+e.replace(/"/g,'\\"')+'"]')}selectDocID(e,t){try{this.findOptionByDocID(e).selected=!0}catch(e){return!1}return this.onChange(this.currentDocument,t),!0}saveCurrentDocID(){const e=this.currentOption&&this.currentOption.value;e&&r.write(this.__storagePrefix+".currentDocID",e)}getSavedCurrentDocID(){return r.read(this.__storagePrefix+".currentDocID")}optionFromDocument(e){const t=document.createElement("option");return t.value=e.id,t.text=e.name||"untitled",t}onChange(){}__prepend(e,t){const n=this.optionFromDocument(e);return this.group.insertBefore(n,this.group.firstChild),t&&t.select&&(this.menu.selectedIndex=n.index,this.onChange(e,t)),e}newDocument(e){return this.__prepend(this.doclist.newDocument(),s({type:"open"},e))}duplicate(e,t){return this.__prepend(this.doclist.duplicate(e),s({type:"duplicate"},t))}rename(e){this.currentDocument.name=e,this.currentOption.text=e}delete(e){this.currentDocument.delete();const t=this.menu.selectedIndex,n=this.doclist.deleteIndex(t);return n&&(this.currentOption.remove(),this.menu.selectedIndex=t,this.onChange(this.currentDocument,s({type:"delete"},e))),n}}Object.defineProperties(i.prototype,{currentOption:{get:function(){return this.menu.options[this.menu.selectedIndex]},enumerable:!0},currentDocument:{get:function(){const e=this.currentOption;return e?new a(e.value):null},enumerable:!0}});class c{constructor(e){this.storageKey=e,this.readList()}add(e){this.__list.unshift({id:e}),this.writeList()}readList(){this.__list=JSON.parse(r.read(this.storageKey))||[]}writeList(){r.write(this.storageKey,JSON.stringify(this.__list))}newDocument(){const e=c.newID();return this.add(e),new a(e)}duplicate(e){return this.newDocument().copyFrom(e)}deleteIndex(e){const t=this.__list.splice(e,1);return this.writeList(),t.length>0}}c.newID=()=>String(Date.now()),Object.defineProperties(c.prototype,{list:{get:function(){return this.__list},enumerable:!0}}),e.exports=i},9565:(e,t,n)=>{"use strict";const{KeyValueStorage:r}=n(4075),a=n(4499),o=n(4891),s=n(6215);class i{constructor(e){const t=a.get(e);Object.defineProperties(this,{id:{value:e},prefix:{value:"doc."+e},isExample:{value:!!t}}),t&&Object.defineProperties(this,{sourceCode:c(t,this,"sourceCode"),positionTable:c(t,this,"positionTable"),name:{get:function(){return t.name},set:function(){},enumerable:!0}})}path(e){return[this.prefix,e].join(".")}copyFrom(e){return this.dataKeys.forEach((function(t){this[t]=e[t]}),this),this}delete(){this.copyFrom({})}}function c(e,t,n){const r=Object.getPrototypeOf(t),a=Object.getOwnPropertyDescriptor(r,n),{get:s}=a;return a.get=()=>o.coalesce(s.call(t),e[n]),a}(()=>{const e=r,t=e.read.bind(e),n=(t,n)=>{null!=n?e.write(t,n):e.remove(t)};function a(e){return{get:function(){return t(this.path(e))},set:function(t){n(this.path(e),t)},enumerable:!0}}const s={sourceCode:a("diagram.sourceCode"),positionTable:{get:function(){return o.applyMaybe(l,t(this.path("diagram.positions")))},set:function(e){n(this.path("diagram.positions"),o.applyMaybe(d,e))},enumerable:!0},editorSourceCode:a("editor.sourceCode"),name:a("name")};Object.defineProperties(i.prototype,s),i.prototype.dataKeys=Object.keys(s)})(),i.IDFromNameStorageKey=e=>{const t=/^doc\.([^.]+)\.name$/.exec(e);return t&&t[1]},i.addOutsideChangeListener=e=>{const t=/^doc\.([^.]+)\.(.+)$/;r.addStorageListener((n=>{const r=t.exec(n.key);r&&e(r[1],r[2])}))};var l=JSON.parse,d=s.flow(s.mapValues(function(e){const t=Math.pow(10,2);function n(e){return Math.round(e*t)/t}return e=>{const t=s(e).pick(["x","y","px","py"]).mapValues(n).value();return t.fixed=e.fixed,t}}()),JSON.stringify);e.exports=i},3850:(e,t,n)=>{"use strict";const r=n(5418),a=n(2477),o=n(4891),s=n(1881),i=n(5680),{TMSpecError:c,YAMLException:l}=a,{UndoManager:d}=s.require("ace/undomanager");function u(e){return{row:e.mark.line,column:e.mark.column,text:"Not valid YAML (possibly caused by a typo):\n"+e.message,type:"error"}}e.exports=class{constructor(e,t,n){this.simulator=new r(e.simulator,t.simulator);const a=s.edit(e.editor);a.session.setOptions({mode:"ace/mode/yaml",tabSize:2,useSoftTabs:!0}),a.setOptions({minLines:15,maxLines:50}),a.$blockScrolling=1/0;const o=t.editor,i=this;o.load.addEventListener("click",(()=>{i.loadEditorSource(),i.save(),i.editor.focus()})),o.revert.addEventListener("click",(()=>{i.revertEditorSource(),i.editor.focus()})),Object.defineProperties(this,{__document:{value:{editor:{}},writable:!0},buttons:{value:t},containers:{value:e},editor:{value:a,enumerable:!0}}),this.openDocument(n)}getDocument(){return this.__document}setBackingDocument(e){this.__document=e}openDocument(e){if(this.getDocument().id!==e.id)return this.save(),this.forceLoadDocument(e)}forceLoadDocument(e,t){this.setBackingDocument(e);const n=e.sourceCode,r=e.editorSourceCode;if(this.simulator.clear(),this.setEditorValue(null==r?n:r),t||this.editor.session.setUndoManager(new d),null==r)this.loadEditorSource();else{this.isSynced=!1;try{this.simulator.sourceCode=n,this.simulator.positionTable=e.positionTable}catch(e){this.showCorruptDiagramAlert(!0)}}}save(){const e=this.getDocument();this.hasValidDiagram?(e.editorSourceCode=this.isSynced?void 0:this.editor.getValue(),e.sourceCode=this.simulator.sourceCode,e.positionTable=this.simulator.positionTable):null==e.editorSourceCode?e.sourceCode=this.editor.getValue():e.editorSourceCode=this.editor.getValue()}setEditorValue(e){this.editor.setValue(o.coalesce(e,""),-1),this.setAlertErrors([])}setAlertErrors(e){const t=this,n=i.select(t.containers.editorAlerts).selectAll(".alert").data(e,(e=>String(e)));n.exit().remove(),n.enter().append("div").attr("class","alert alert-danger").attr("role","alert").each((function(e){const n=i.select(this);if(e instanceof l){const r=u(e),a=r.row+1,{column:o}=r;n.append("strong").text("Syntax error on ").append("a").text("line "+a).on("click",(()=>{t.editor.gotoLine(a,o,!0),t.editor.focus(),i.event.preventDefault()})).attr("href","#"+t.containers.editor.id),n.append("br"),n.append("span").text("Possible reason: "+e.reason)}else e instanceof c?n.html(e.message):n.html("<strong>Unexpected error</strong>: "+e)})),t.editor.session.setAnnotations(e.map((e=>e instanceof l?u(e):null)).filter((e=>e)))}setLoadButtonSuccess(e){i.select(this.buttons.editor.load).classed({"btn-success":e,"btn-primary":!e})}set isSynced(e){if(e=Boolean(e),this.__isSynced!==e&&(this.__isSynced=e,this.setLoadButtonSuccess(e),e)){const e=()=>{this.isSynced=!1,this.editor.removeListener("change",e)};this.editor.on("change",e)}}get isSynced(){return this.__isSynced}getIsSynced(){return Boolean(this.isSynced)}get hasValidDiagram(){return Boolean(this.simulator.sourceCode)}showCorruptDiagramAlert(e){const t=i.select(this.simulator.container);if(e){const e=this.buttons.editor.revert.textContent.trim();t.html("").append("div").attr("class","alert alert-danger").html("<h4>This imported document has an error</h4>"+["The diagram was not valid and could not be displayed.","You can either load a new diagram from the editor, or attempt to recover this one","using "+(n=e,"<q>"+n+"</q> (which will replace the current editor contents).")].join("<br>"))}else t.selectAll(".alert").remove();var n}loadEditorSource(){const e=function(){try{const e=!this.hasValidDiagram;return this.simulator.sourceCode=this.editor.getValue(),e&&(this.showCorruptDiagramAlert(!1),this.simulator.positionTable=this.getDocument().positionTable),[]}catch(e){return[e]}}.call(this);this.isSynced=0===e.length,this.setAlertErrors(e)}revertEditorSource(){this.setEditorValue(this.hasValidDiagram?this.simulator.sourceCode:this.getDocument().sourceCode),this.hasValidDiagram?this.isSynced=!0:this.loadEditorSource()}}},5418:(e,t,n)=>{"use strict";const{parseSpec:r}=n(2477),a=n(6095),{watchInit:o}=n(2645),{values:s}=n(3804);class i{constructor(e,t){this.container=e,this.buttons=t;const n=this;t.step.addEventListener("click",(()=>{n.machine.isRunning=!1,n.machine.step()})),t.run.addEventListener("click",(()=>{n.machine.isRunning=!n.machine.isRunning})),t.reset.addEventListener("click",(()=>{n.machine.reset()})),t.all=s(t),this.clear()}clear(){this.sourceCode=null}rebindButtons(){const{buttons:e}=this,t=null!=this.machine;var n,r,a,s,i;t&&(n=e.step,r=e.run,a=this.htmlForRunButton,s=this.htmlForPauseButton,i=this.machine,o(i,"isHalted",((e,t,a)=>(function(e){n.disabled=e,r.disabled=e}(a),a))),o(i,"isRunning",((e,t,n)=>(function(e){r.innerHTML=e?s:a}(n),n)))),e.all.forEach((e=>{e.disabled=!t}))}}Object.defineProperties(i.prototype,{sourceCode:{get:function(){return this.__sourceCode},set:function(e){if(this.machine&&(this.machine.isRunning=!1,this.machine.stateviz.force.stop()),null==e)this.machine=null,this.container.innerHTML="";else{const t=r(e);if(this.machine){const e=this.machine.positionTable;this.clear(),this.machine=new a(this.container,t,e)}else this.machine=new a(this.container,t)}this.__sourceCode=e},enumerable:!0},positionTable:{get:function(){return this.machine&&this.machine.positionTable},set:function(e){this.machine&&e&&(this.machine.positionTable=e)},enumerable:!0},machine:{get:function(){return this.__machine},set:function(e){this.__machine=e,this.rebindButtons()}}}),i.prototype.htmlForRunButton='<span class="glyphicon glyphicon-play" aria-hidden="true"></span><br>Run',i.prototype.htmlForPauseButton='<span class="glyphicon glyphicon-pause" aria-hidden="true"></span><br>Pause',e.exports=i},6095:(e,t,n)=>{"use strict";const{TuringMachine:r}=n(7057),a=n(5884),o=n(2618),s=n(7099),{watchInit:i}=n(2645),c=n(5680);function l(e){return c.select(e.domNode).classed("active-edge",!0).transition().style("stroke-width","3px").transition().style("stroke-width","1px").transition().duration(0).each("start",(function(){c.select(this).classed("active-edge",!1)})).style("stroke",null).style("stroke-width",null)}function d(e,t){return new a(e.append("svg").attr("class","tm-tape"),9,t.blank,t.input?String(t.input).split(""):[])}e.exports=class{constructor(e,t,n){e=c.select(e);const a=new o(t.table);this.stateviz=new s(e,a.getVertexMap(),a.getEdges()),null!=n&&(this.positionTable=n),this.edgeAnimation=l,this.stepInterval=100;const u=this;this.machine=new r(function(e,t){return(t,n)=>{const r=e.getInstructionAndEdge(t,n);return null==r?null:(function(e){const t=u.edgeAnimation(e);u.isRunning&&t.transition().duration(u.stepInterval).each("end",(()=>{u.isRunning&&u.step()}))}(r.edge),r.instruction)}}(a),t.startState,d(e,t)),i(this.machine,"state",((e,t,n)=>(c.select(a.getVertex(t).domNode).classed("current-state",!1),c.select(a.getVertex(n).domNode).classed("current-state",!0),n))),this.isHalted=!1,this.counter=0;let h=!1;Object.defineProperty(this,"isRunning",{configurable:!0,get:function(){return h},set:function(e){h!==e&&(h=e,h&&this.step())}}),this.__parentDiv=e,this.__spec=t;let p=0;document.querySelector(".rules tbody").innerHTML="",document.querySelector(".states tbody").innerHTML="";for(let[e,n]of Object.entries(t.table))if(null!==n)for(let[t,{symbol:r,move:a,state:o}]of Object.entries(n))for(let n of t.split(","))document.querySelector(".rules tbody").innerHTML+=`\n          <tr>\n            <td>${++p}</td>\n            <td>${e}</td>\n            <td>${n}</td>\n            <td>${r||n}</td>\n            <td>${a.toString()}</td>\n            <td>${o||e}</td>\n          </tr>`;else document.querySelector(".rules tbody").innerHTML+=`\n          <tr>\n            <td>${++p}</td>\n            <td>${e}</td>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td></td>\n          </tr>`}step(){const e=this.machine.step();e?document.querySelector(".states tbody").innerHTML+=`\n      <tr>\n        <td>${++this.counter}</td>\n        <td>${this.machine.tape.toString()}</td>\n        <td>${e.state}</td>\n      </tr>`:(this.isRunning=!1,this.isHalted=!0)}reset(){this.isRunning=!1,this.isHalted=!1,this.counter=0,this.machine.state=this.__spec.startState,this.machine.tape.domNode.remove(),this.machine.tape=d(this.__parentDiv,this.__spec)}get positionTable(){return this.stateviz.positionTable}set positionTable(e){this.stateviz.positionTable=e}}},7057:(e,t)=>{"use strict";class n{constructor(e,t,n){this.transition=e,this.state=t,this.tape=n}toString(){return String(this.state)+"\n"+String(this.tape)}step(){const e=this.nextInstruction;return null!=e&&(this.tape.write(e.symbol),function(e,t){switch(t){case r.right:e.headRight();break;case r.left:e.headLeft();break;case r.neutral:e.headNeutral();break;default:throw new TypeError("not a valid tape movement: "+String(t))}}(this.tape,e.move),this.state=e.state,e)}}Object.defineProperties(n.prototype,{nextInstruction:{get:function(){return this.transition(this.state,this.tape.read())},enumerable:!0},isHalted:{get:function(){return null==this.nextInstruction},enumerable:!0}});var r=Object.freeze({left:{toString:function(){return"L"}},right:{toString:function(){return"R"}},neutral:{toString:function(){return"N"}}});const a=Object.freeze({left:r.right,right:r.left,neutral:r.neutral});t.MoveHead=r,t.MoveTape=a,t.TuringMachine=n},4499:(e,t,n)=>{"use strict";const{parseDocument:r}=n(1195),{fromPairs:a}=n(6215);function o(e){return n(8653)("./"+e+".yaml")}const s=["repeat01","binaryIncrement","divisibleBy3","copy1s","divisibleBy3Base10","matchThreeLengths","matchBinaryStrings","palindrome","busyBeaver3","busyBeaver4","powersOfTwo","lengthMult","binaryAdd","unaryMult","binaryMult"].map((e=>{const t=r(o(e));return t.id=e,[e,t]})),i=Object.freeze(a(s));function c(e){return{}.hasOwnProperty.call(i,e)}const l=s.map((e=>e[1]));t.hasID=c,t.get=function(e){return c(e)?i[e]:null},t.list=l,t.firsttimeDocID="binaryIncrement",t.blankTemplate=o("_template")},8653:(e,t,n)=>{var r={"./_template.yaml":9920,"./binaryAdd.yaml":7492,"./binaryIncrement.yaml":8580,"./binaryMult.yaml":4856,"./busyBeaver3.yaml":1428,"./busyBeaver4.yaml":1812,"./copy1s.yaml":6890,"./divisibleBy3.yaml":7525,"./divisibleBy3Base10.yaml":1542,"./lengthMult.yaml":9601,"./matchBinaryStrings.yaml":3536,"./matchThreeLengths.yaml":7551,"./palindrome.yaml":3043,"./powersOfTwo.yaml":9300,"./repeat01.yaml":9080,"./unaryMult.yaml":560};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=8653},4244:(e,t,n)=>{"use strict";const r=n(5680);function a(e){return e}function o(e){switch(e){case"Command":return"Cmd";case"Option":return"Opt";case"Up":return"↑";case"Down":return"↓";case"Left":return"←";case"Right":return"→";default:return e}}var s=[[{name:"save",desc:"Load machine<br> <small>Save changes and load the machine.</small>"}],[{name:"togglecomment",desc:"Toggle comment"},{name:"indent",desc:"Indent selection"},{name:"outdent",desc:"Unindent selection"}],[{name:"movelinesup",desc:"Move line up"},{name:"movelinesdown",desc:"Move line down"},{name:"duplicateSelection",desc:"Duplicate line/selection"}],[{name:"selectMoreAfter",desc:"Add next occurrence to selection<br> <small>Like a quick “find”. Useful for renaming things.</small>"},{name:"find",desc:"Find"},{name:"replace",desc:"Find and Replace"}]];t.main=function(e,t){const n=function(e){const{platform:t}=e,n="mac"!==t?a:e=>"Alt"===e?"Option":e;return function(r){return e.commands[r].bindKey[t].split("-").map(n)}}(e);return function(e,t){const n=r.select(t).selectAll("tbody").data(e).enter().append("tbody");return n.selectAll("tr").data(a).enter().append("tr").selectAll("td").data(a).enter().append("td").html(a),n}(s.map((e=>e.map((e=>{return[(t=n(e.name).map(o),t.map((e=>"<kbd>"+e+"</kbd>")).join("-")),e.desc];var t})))),t)}},2225:(e,t,n)=>{"use strict";const r=n(3850),a=n(8437),o=n(4499),{toDocFragment:s}=n(4891),i=n(1881),c=n(3609);function l(e){return document.getElementById(e)}function d(e,t){l("diagram-column").insertAdjacentHTML("afterbegin",'<div class="alert alert-'+e+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>'+t+"</div>")}function u(e){h.duplicate(e,{select:!0,type:"open"})}i.config.loadModule("ace/ext/language_tools"),n(4075).canUseLocalStorage||d("info",'<p>Local storage is unavailable. Your browser could be in Private Browsing mode, or it might not support <a href="http://caniuse.com/#feat=namevalue-storage" target="_blank">local storage</a>.</p><strong>Any changes will be lost after leaving the webpage.</strong>'),c((()=>{/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&l("misc-tips-list").insertAdjacentHTML("afterbegin",'<li><strong class="text-warning">Important note for iOS</strong>: iOS saves browser local storage in the cache folder, which is <strong>not backed up</strong>, and is <q cite="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Browser_compatibility"><strong>subject to occasional clean up</strong>, at the behest of the OS, typically if space is short.</q></li>')})),c((()=>{c(".tm-needsready").prop("disabled",!1);const e={dialogNode:l("importDialog"),importDocument:u};n(9088).runImport(e);const t=c("#importPanel");t.one("show.bs.modal",(()=>{n(6998).init({$dialog:t,gistIDForm:l("gistIDForm"),importArgs:e})}));const r=l("exportPanel");n(8545).init({$dialog:c(r),getCurrentDocument:function(){return p.save(),h.currentDocument},getIsSynced:p.getIsSynced.bind(p),gistContainer:l("shareGistContainer"),downloadContainer:l("exportDownloadContainer"),copyContentsButton:l("copyContentsButton"),textarea:r.querySelector("textarea")})}));var h=(()=>{const e=document.getElementById("tm-doc-menu"),t=document.createElement("optgroup");t.label="Documents",e.appendChild(t);const n=document.createElement("optgroup");return n.label="Examples",n.appendChild(s(o.list.map(a.prototype.optionFromDocument))),e.appendChild(n),new a({menu:e,group:t,storagePrefix:"tm.docs",firsttimeDocID:o.firsttimeDocID})})();(()=>{h.onChange=(t,n)=>{switch(n&&n.type){case"duplicate":p.setBackingDocument(t);break;case"delete":p.forceLoadDocument(t);break;default:p.openDocument(t)}e()};var e=(()=>{const e=document.querySelector('[data-target="#renameDialog"]'),n=document.querySelector('[data-target="#deleteDialog"]');let r;function a(){t()}return()=>{const{isExample:t}=h.currentDocument;r!==t&&(t?(e.textContent="Rename a copy…",e.addEventListener("click",a),e.removeAttribute("data-toggle"),n.textContent="Reset this example…",n.setAttribute("data-target","#resetExampleDialog")):(e.textContent="Rename…",e.removeEventListener("click",a),e.setAttribute("data-toggle","modal"),n.textContent="Delete…",n.setAttribute("data-target","#deleteDialog")),r=t)}})();function t(){p.save(),h.duplicate(h.currentDocument,{select:!0})}e();const n=c(l("renameDialog"));[{id:"tm-doc-action-duplicate",callback:t},{id:"tm-doc-action-newblank",callback:function(){h.newDocument({select:!0}),p.editor.insertSnippet&&(p.editor.insertSnippet(o.blankTemplate),p.loadEditorSource())}}].forEach((e=>{document.getElementById(e.id).addEventListener("click",(t=>{t.preventDefault(),e.callback(t),n.modal({keyboard:!1}).one("hidden.bs.modal",(()=>{p.editor.focus()}))}))}))})(),(()=>{const e=c(l("renameDialog")),t=l("renameDialogInput");function n(){h.delete(),p.forceLoadDocument(h.currentDocument)}e.on("show.bs.modal",(()=>{t.value=h.currentOption.text})).on("shown.bs.modal",(()=>{t.select()})).on("hidden.bs.modal",(()=>{const e=t.value;h.currentOption.text!==e&&h.rename(e),t.value=""})),document.getElementById("renameDialogForm").addEventListener("submit",(t=>{t.preventDefault(),e.modal("hide")})),document.getElementById("tm-doc-action-delete").addEventListener("click",(function(){h.delete()})),document.getElementById("tm-doc-action-resetdiscard").addEventListener("click",n),document.getElementById("tm-doc-action-resetsave").addEventListener("click",(function(){h.duplicate(h.currentDocument,{select:!1}),n()}))})();var p=(()=>{function e(e,t){return e.querySelector("button.tm-"+t)}const t=document.getElementById("editor-container"),n=document.getElementById("controls-container"),a=t.parentNode;return new r({simulator:document.getElementById("machine-container"),editorAlerts:document.getElementById("editor-alerts-container"),editor:t},{simulator:{run:e(n,"run"),step:e(n,"step"),reset:e(n,"reset")},editor:{load:e(a,"editor-load"),revert:e(a,"editor-revert")}},h.currentDocument)})();p.editor.setTheme("ace/theme/chrome"),p.editor.commands.addCommand({name:"save",bindKey:{mac:"Cmd-S",win:"Ctrl-S"},exec:function(){p.loadEditorSource()}}),p.editor.session.setUseWrapMode(!0),c((()=>{try{n(4244).main(p.editor.commands,l("kbdShortcutTable"))}catch(e){}})),window.addEventListener("beforeunload",(e=>{try{p.save(),h.saveCurrentDocID()}catch(t){return d("warning",'<h4>The current document could not be saved.</h4><p>It’s likely that the <a href="https://en.wikipedia.org/wiki/Web_storage#Storage_size" target="_blank">local storage quota</a> was exceeded. Try downloading a copy of this document, then deleting other documents to make space.</p>'),(e||window.event).returnValue="There is not enough space left to save the current document."}})),window.addEventListener("blur",(()=>{p.save()})),(()=>{let e=!1;n(9565).addOutsideChangeListener(((t,n)=>{t!==p.getDocument().id||"name"===n||e||(e=!0,setTimeout((()=>{e=!1,p.forceLoadDocument(p.getDocument(),!0)}),100))}))})(),t.controller=p},2477:(e,t,n)=>{"use strict";const r=n(7057),a=n(812),o=n(3804);class s extends Error{constructor(e,t){super(),this.name="TMSpecError",this.stack=(new Error).stack,this.reason=e,this.details=t||{}}get message(){const e=this.reason,{details:t}=this;function n(e){return"<code>"+e+"</code>"}const r=t.problemValue?" "+n(t.problemValue):"",a=(s=t.state,i=t.symbol,c=t.synonym,null!=s?null!=i?" in the transition from state "+n(s)+" and symbol "+n(i):" for state "+n(s):null!=c?" in the definition of synonym "+n(c):"");var s,i,c;const l=["<strong>"+e+r+"</strong>"+a,t.info,t.suggestion].filter(o.identity).map((e=>e+"."));return a&&l.splice(1,0,"<br>"),l.join(" ")}}function i(e,t,n){return function(e,t){if(null!=t.state&&!(t.state in e))throw new s("Undeclared state",{problemValue:t.state,suggestion:"Make sure to list all states in the transition table and define their transitions (if any)"});return t}(t,(()=>{switch(typeof n){case"string":return function(e,t){if("L"===t)return c;if("R"===t)return l;if("N"===t)return d;if(e&&e[t])return e[t];throw new s("Unrecognized string",{problemValue:t,info:"An instruction can be a string if it's a synonym or a direction"})}(e,n);case"object":return function(e){let t,n,a;if(null==e)throw new s("Missing instruction");if((()=>{let t;if(!Object.keys(e).every((e=>(t=e,"L"===e||"R"===e||"write"===e))))throw new s("Unrecognized key",{problemValue:t,info:"An instruction always has a tape movement <code>L</code> or <code>R</code>, and optionally can <code>write</code> a symbol"})})(),"L"in e&&"R"in e)throw new s("Conflicting tape movements",{info:"Each instruction needs exactly one movement direction, but two were found"});if("L"in e)n=r.MoveHead.left,a=e.L;else if("R"in e)n=r.MoveHead.right,a=e.R;else{if(!("N"in e))throw new s("Missing movement direction");n=r.MoveHead.neutral,a=e.N}if("write"in e){const n=String(e.write);if(1!==n.length)throw new s("Write requires a string of length 1");t=n}return function(e,t,n){return Object.freeze(o.omitBy({symbol:e,move:t,state:n},(e=>null==e)))}(t,n,a)}(n);default:throw new s("Invalid instruction type",{problemValue:typeof n,info:"An instruction can be a string (a direction <code>L</code>/<code>R</code> or a synonym) or a mapping (examples: <code>{R: accept}</code>, <code>{write: ' ', L: start}</code>)"})}})())}const c=Object.freeze({move:r.MoveHead.left}),l=Object.freeze({move:r.MoveHead.right}),d=Object.freeze({move:r.MoveHead.neutral});t.TMSpecError=s,t.parseSpec=function(e){const t=a.safeLoad(e);if(null==t)throw new s("The document is empty",{info:"Every Turing machine requires a <code>blank</code> tape symbol, a <code>start state</code>, and a transition <code>table</code>"});const n={suggestion:"Examples: <code>blank: ' '</code>, <code>blank: '0'</code>"};if(null==t.blank)throw new s("No blank symbol was specified",n);if(t.blank=String(t.blank),1!==t.blank.length)throw new s("The blank symbol must be a string of length 1",n);if(t.startState=t["start state"],delete t["start state"],null==t.startState)throw new s("No start state was specified",{suggestion:"Assign one using <code>start state: </code>"});t.startState=String(t.startState),function(e){if(null==e)throw new s("Missing transition table",{suggestion:"Specify one using <code>table:</code>"});if("object"!=typeof e)throw new s("Transition table has an invalid type",{problemValue:typeof e,info:"The transition table should be a nested mapping from states to symbols to instructions"})}(t.table);const r=function(e,t){if(null==e)return null;if("object"!=typeof e)throw new s("Synonyms table has an invalid type",{problemValue:typeof e,info:"Synonyms should be a mapping from string abbreviations to instructions (e.g. <code>accept: {R: accept}</code>)"});return o.mapValues(e,((e,n)=>{try{return i(null,t,e)}catch(e){throw e instanceof s&&(e.details.synonym=n,"Unrecognized string"===e.reason&&(e.details.info="Note that a synonym cannot be defined using another synonym")),e}}))}(t.synonyms,t.table);if(t.table=function(e,t){return o.mapValues(t,((n,r)=>{if(null==n)return null;if("object"!=typeof n)throw new s("State entry has an invalid type",{problemValue:typeof n,state:r,info:"Each state should map symbols to instructions. An empty map signifies a halting state."});return o.mapValues(n,((n,a)=>{try{return i(e,t,n)}catch(e){throw e instanceof s&&(e.details.state=r,e.details.symbol=a),e}}))}))}(r,t.table),!(t.startState in t.table))throw new s("The start state has to be declared in the transition table");return t},t.YAMLException=a.YAMLException},5175:(e,t,n)=>{"use strict";const r=n(3609);function a(e){return e}function o(e){return e[0]}e.exports=class{constructor(e){this.table=e.table,this.headerRow=this.table.append("thead").append("tr"),this.tbody=this.table.append("tbody");const t=this;this.headerCheckbox=this.headerRow.append("th").attr("class","checkbox-cell").append("input").attr("type","checkbox").on("click",(function(){t.getCheckboxes().property("checked",this.checked),t.onChange()})),r(this.tbody.node()).on("click","tr",(function(e){if("INPUT"!==e.target.tagName){const e=this.querySelector('input[type="checkbox"]');e.checked=!e.checked}t.refresh(),t.onChange()})),e.headers&&this.setHeaders(e.headers),e.data&&this.setData(e.data)}setHeaders(e){const t=this.headerRow.selectAll("th:not(.checkbox-cell)").data(e);t.exit().remove(),t.enter().append("th"),t.text(a)}setData(e){const t=this.tbody.selectAll("tr").data(e,o);t.exit().remove(),t.enter().append("tr").append("td").attr("class","checkbox-cell").append("input").attr({type:"checkbox",value:o}),t.order();const n=t.selectAll("td:not(.checkbox-cell)").data(a);return n.exit().remove(),n.enter().append("td"),n.text(a),this}getCheckboxes(){return this.tbody.selectAll('input[type="checkbox"]')}getCheckedValues(){return this.tbody.selectAll('input[type="checkbox"]:checked')[0].map((e=>e.value))}isCheckedEmpty(){const e=this.headerCheckbox.node();return!(e.checked||e.indeterminate)}refresh(){const e=this.headerCheckbox.node(),t=this.getCheckboxes(),n=t.size(),r=t.filter(":checked").size();0===r?e.checked=!1:r===n&&(e.checked=!0),e.indeterminate=0<r&&r<n}onChange(){}}},7374:(e,t,n)=>{"use strict";const r=n(9348);t.readAsText=function(){const e=arguments;return new r(((t,n,r)=>{const a=new FileReader;a.addEventListener("load",(()=>{t(a.result)})),a.addEventListener("error",(()=>{n(a.error)})),r&&r((()=>{try{a.abort()}catch(e){}})),a.readAsText.apply(a,e)}))}},8545:(e,t,n)=>{"use strict";const r=n(1195),{createGist:a}=n(8383),o=n(5054),s=n(3609),i=!window.externalHost&&"download"in document.createElement("a"),c=(()=>{try{return document.queryCommandSupported("copy")}catch(e){return!1}})();function l(e){e.addEventListener("focus",(function(e){e.target.select()})),e.addEventListener("mouseup",(e=>{e.preventDefault()}))}t.init=function(e){const{$dialog:t,getCurrentDocument:n,getIsSynced:d,gistContainer:u,downloadContainer:h,textarea:p}=e;function m(){const e=n(),c=e.name+".yaml",m=r.stringifyDocument(e);let b,g;var f;d()||(g=s('<div class="alert alert-warning" role="alert">The code editor has <strong>unsynced changes</strong> and might not correspond with the diagram.<br>Click <q>Load machine</q> to try to sync them. Otherwise, two sets of code will be exported.</div>').prependTo(t.find(".modal-body"))),(f=u,f.innerHTML='<button type="button" class="btn btn-default">Create permalink</button><p class="help-block">This will create and link to a new <a href="https://help.github.com/articles/creating-gists/#creating-an-anonymous-gist" target="_blank">read-only</a> GitHub gist.</p>',f.querySelector("button")).addEventListener("click",(e=>{b=function(e,t,n,r){const o=t.textContent;t.textContent="Loading…",t.disabled=!0;const s={files:{},description:"Turing machine for http://turingmachine.io",public:!0};return s.files[n]={content:r},a(s).then((t=>{const{id:n}=t;!function(e,t){e.innerHTML='<input id="sharedPermalink" type="url" class="form-control" readonly><button type="button" class="btn btn-default" data-clipboard-target="#sharedPermalink"><span class="glyphicon glyphicon-copy" aria-hidden="true"></span></button>';const n=e.querySelector("input");n.value=t,n.size=t.length+2,l(n),n.focus()}(e,"http://turingmachine.io/?import-gist="+n)})).catch((e=>{const n=(()=>{const{xhr:t}=e;try{return"Response from GitHub: “"+t.responseJSON.message+"”"}catch(e){return t.status>0?"HTTP status code: "+t.status+" "+t.statusText:"GitHub could not be reached.\nYour Internet connection may be offline."}})();alert("Could not create new gist.\n\n"+n),t.disabled=!1,t.textContent=o}))}(u,e.target,c,m)})),h.appendChild(function(e,t){const n=document.createElement("a");if(n.href="data:text/x-yaml;charset=utf-8,"+encodeURIComponent(t),n.target="_blank",n.download=e,i)return n.textContent="Download document",n.className="btn btn-primary",n;{n.textContent="Right-click here and choose “Save target as…” or “Download Linked File As…”";const e=document.createElement("p");return e.innerHTML=", <br>then name the file to end with <code>.yaml</code>",e.insertBefore(n,e.firstChild),e}}(c,m)),p.value=m;const y=new o("[data-clipboard-target]");return y.on("success",(e=>{var t,n,r;t=e.trigger,r={title:"Copied!",placement:"bottom"},(n=s(t)).tooltip(r).tooltip("show").one("hidden.bs.tooltip",(()=>{n.tooltip("destroy")})),e.clearSelection()})),()=>{if(b)try{b.cancel()}catch(e){}g&&g.remove(),u.textContent="",h.textContent="",p.value="",y.destroy()}}i&&t.addClass("download-attr"),c||t.addClass("no-copycommand"),u.className="form-group form-inline",l(p),t.on("show.bs.modal",(()=>{const e=m();t.one("hidden.bs.modal",e)})),t.on("shown.bs.modal",(()=>{p.setSelectionRange(0,0)}))}},1195:(e,t,n)=>{"use strict";const r=n(812),a=n(6215),o={name:"name",sourceCode:"source code",positionTable:"positions",editorSourceCode:"editor contents"},s=a.invert(o);function i(e){return t=>{const n={};return null!=t&&Object.keys(e).forEach((r=>{const a=e[r];n[a]=t[r]})),n}}const c=a.flow(i(o),a.omitBy((e=>null==e)),a.update("positions",a.mapValues((e=>e.fixed?{x:e.x,y:e.y}:{x:e.x,y:e.y,fixed:!1}))),a.partialRight(r.safeDump,[{flowLevel:2,lineWidth:-1,noRefs:!0,noCompatMode:!0}])),l=a.flow(r.safeLoad,a.update("positions",a.mapValues((e=>a.defaults({px:e.x,py:e.y,fixed:!0},e)))),i(s),(function(e){if(null==e||null==e.sourceCode)throw new d("The “source code:” value is missing");if(!a.isString(e.sourceCode))throw new d("The “source code:” value needs to be of type string");return e}));class d extends Error{constructor(e){super(),this.name="InvalidDocumentError",this.message=e||"Invalid document",this.stack=(new Error).stack}}t.stringifyDocument=c,t.parseDocument=l,t.InvalidDocumentError=d,t.YAMLException=r.YAMLException},8383:(e,t,n)=>{"use strict";const r=n(3609),a=n(9348);function o(e){return new a(((t,n,r)=>{e.then(t,((e,t,r)=>{n({xhr:e,status:t,error:r})})),r&&r((()=>{try{e.abort()}catch(e){}}))}))}a.config({cancellation:!0}),t.getGist=function(e){return o(r.ajax({url:"https://api.github.com/gists/"+e,type:"GET",dataType:"json",accepts:"application/vnd.github.v3+json"}))},t.createGist=function(e){return o(r.ajax({url:"https://api.github.com/gists",type:"POST",data:JSON.stringify(e),dataType:"json",accepts:"application/vnd.github.v3+json"}))}},6998:(e,t,n)=>{"use strict";const r=n(9088),a=n(1195),o=n(6215),s=n(5680);function i(){return s.select(document.createElement("button")).attr({class:"close","aria-label":"Close"}).html('<span aria-hidden="true">&times;</span>').node()}t.init=function(e){const{$dialog:t,gistIDForm:n,importArgs:c}=e;function l(){t.modal("hide");const e=c.dialogNode;t.one("hidden.bs.modal",(()=>{e.classList.contains("in")&&document.body.classList.add("modal-open")}))}n.addEventListener("submit",(e=>{e.preventDefault(),l();const t=n.querySelector('input[type="text"]').value;r.importGist(o.assign({gistID:t},c))})),(()=>{const e=document.querySelector("#importFilesPanel > .panel-body"),t=e.querySelector('input[type="file"]');document.getElementById("importFilesButton").addEventListener("click",(()=>{l(),r.importLocalFiles(o.assign({files:t.files},c))}));const n=e.querySelector("textarea"),d=document.getElementById("importContentsButton");d.parentNode.style.position="relative",d.addEventListener("click",(t=>{(function(e,t){const{containers:n,importDocument:r}=e,o=(()=>{try{r(a.parseDocument(t))}catch(e){return e}})();return function(e,t){const n=s.select(e.status),r=s.select(e.details);n.selectAll('[role="alert"]').remove(),r.selectAll(".alert").remove();const o=n.append("span").attr({role:"alert"}).style({position:"absolute",left:0,width:"40%",top:"50%",transform:"translateY(-60%)"});if(t){const e=function(){const e=r.append("div").attr({role:"alert",class:"alert alert-danger"}).style("margin-top","1em");if(e.append(i).attr("data-dismiss","alert").on("click",(()=>{o.remove()})),t instanceof a.YAMLException)e.append("h4").text("Not valid YAML"),e.append("pre").text(t.message);else{if(!(t instanceof a.InvalidDocumentError))return e.append("h4").text("Unexpected error"),e.append("pre").text(String(t)),"Import failed";e.append("span").text(t.message.replace(/\.?$/,"."))}return"Not a valid document"}();o.attr({class:"text-danger"}).html('<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> '+e)}else o.attr({class:"text-success"}).html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Import succeeded').transition().delay(2500).duration(2e3).style("opacity",0).remove()}(n,o),null==o})({containers:{status:t.target.parentNode,details:e},importDocument:c.importDocument},n.value)&&n.select()}))})()}},9088:(e,t,n)=>{"use strict";const r=n(5175),a=n(7374),o=n(1195),{getGist:s}=n(8383),i=n(3609),c=n(6215),l=n(5680),d=n(9348);class u{constructor(e){this.node=e,this.titleNode=e.querySelector(".modal-header .modal-title"),this.bodyNode=e.querySelector(".modal-body"),this.footerNode=e.querySelector(".modal-footer"),this.cancelButtonNode=l.select(this.footerNode).text("").append("button").attr({type:"button",class:"btn btn-default","data-dismiss":"modal"}).text("Cancel").node(),this.$dialog=i(e).one("hide.bs.modal",this.__onClose.bind(this))}__onClose(){this.onClose(),i(this.bodyNode).empty(),i(this.footerNode).empty()}onClose(){}show(){this.$dialog.modal({backdrop:"static",keyboard:!1})}close(){this.$dialog.modal("hide")}setBodyChildNodes(e){this.bodyNode.textContent="",this.bodyNode.appendChild(w(e))}}function h(e,t){const n=e.append("div").attr("class","panel panel-default");return n.append("div").attr("class","panel-heading").append("h5").attr("class","panel-title").html(t),n}const p=Object.freeze(l.selectAll([]));function m(e,t){let n=p;return t.data&&t.data.length&&(n=h(e,t.title),n.append("div").attr("class","panel-body").append("ul").attr("class","list-inline").selectAll("li").data(t.data).enter().append("li").text(c.identity)),n}function b(e,t){let n=p;return t.data&&t.data.length&&(n=h(e,t.title),n.append("table").attr("class","table").call((e=>{e.append("thead").append("tr").selectAll("th").data(t.headers).enter().append("th").text(c.identity),e.append("tbody").selectAll("tr").data(t.data).enter().append("tr").selectAll("td").data(c.identity).enter().append("td").each((function(e){const t=l.select(this);"function"==typeof e?e(t):t.text(e)}))}))),n}const g=c.every(c.isEmpty);function f(e,t,n){if(g(t))return;const r="nondocument-files";e.append("a").attr({href:"#"+r,class:"disclosure-triangle collapsed",role:"button","data-toggle":"collapse"}).text(n||"Show other files");const a=e.append("div").attr({id:r,class:"collapse"});b(a,{title:"Unexpected error",headers:["Filename","Error"],data:t.otherError.map((function(e){return[e.filename,y(e.error)]}))}).classed("panel-danger",!0),b(a,{title:"Not suitable for import",headers:["Filename","Reason"],data:t.badDoc.map((e=>[e.filename,e.error.message]))}),b(a,{title:"Not valid as YAML",headers:["Filename","Syntax error"],data:t.badYAML.map((e=>[e.filename,t=>{t.append("pre").text(e.error.message)}]))}),m(a,{title:"File is too large",data:t.tooLarge}),m(a,{title:"Different file extension (not <code>.yaml</code>/<code>.yml</code>)",data:t.wrongType})}function y(e){return e instanceof Error?String(e):e.message||e.name||String(e)}function x(e,t){const n=[],r={wrongType:[],tooLarge:[],badYAML:[],badDoc:[],otherError:[]};return d.each(t,(t=>{const s=t.filename||t.name;if(-1===s.search(/\.ya?ml$/))r.wrongType.push(s);else{if(!(t.truncated||t.size>e))return d.resolve(null!=t.content?t.content:a.readAsText(t)).then((e=>{n.push({filename:s,size:t.size,document:o.parseDocument(e)})})).catch((e=>{const t={filename:s,error:e};e instanceof o.YAMLException?r.badYAML.push(t):e instanceof o.InvalidDocumentError?r.badDoc.push(t):r.otherError.push(t)}));r.tooLarge.push(s)}})).return({documentFiles:n,nonDocumentFiles:r})}function w(e){const t=document.createDocumentFragment();return e.forEach((e=>{"string"==typeof e?t.appendChild(document.createTextNode(e)):t.appendChild(e)})),t}function v(e){const t=document.createElement("a");return t.href=e.href,t.target="_blank",t.textContent=e.textContent||e.href,t}function k(e){const{gistID:t,dialogNode:n,importDocument:a}=e,o=new u(n);let i,h;const p=null!=t?(o.titleNode.textContent="Import from GitHub gist",i=v({href:"https://gist.github.com/"+t}),o.setBodyChildNodes(["Retrieving ",i,"…"]),s(t).then((e=>(h=function(e){const t=v({href:"https://gist.github.com/"+e.gistID,textContent:e.description||"gist "+e.gistID});return e.description?function(e,t){const n=document.createElement("q");return n.appendChild(t),n}(0,t):t}({gistID:t,description:e.description}),o.setBodyChildNodes(["Processing ",i,"…"]),c.values(e.files))))):(o.titleNode.textContent="Import from files",o.setBodyChildNodes(["Processing files…"]),d.resolve(c.toArray(e.files)));o.show();const m=p.then(x.bind(void 0,409600)).then((e=>{const t=e.documentFiles;switch(t.length){case 0:return void function(e){const t=e.nonDocumentFiles,{dialog:n,citeLink:r}=e;l.select(n.bodyNode).text("").call((e=>{e.append("p").append("strong").text(g(t)?"No files were selected.":"None of the files are suitable for import."),r&&e.append("p").text("Requested URL: ").node().appendChild(r),f(e,t,"Show details")})),n.cancelButtonNode.textContent="Close"}({nonDocumentFiles:e.nonDocumentFiles,dialog:o,citeLink:i});case 1:return a(t[0].document),void o.close();default:!function(e){const t=e.documentFiles,n=e.nonDocumentFiles,{citeNode:a,dialog:o,importDocuments:s}=e,i=l.select(o.bodyNode).text("");i.append("p").call((e=>{e.append("strong").text("Select documents to import"),a&&(e.node().appendChild(document.createTextNode(" from ")),e.node().appendChild(a))}));const d=new r({table:i.append("table").attr({class:"table table-hover checkbox-table"}),headers:["Filename","Size"],data:t.map((e=>{return[e.filename,(t=e.size,(Math.ceil(10*t/1024)/10).toFixed(1)+" KB")];var t}))});f(i,n);const u=l.select(o.footerNode).append("button").attr({type:"button",class:"btn btn-primary","data-dismiss":"modal"}).property("disabled",!0).text("Import").on("click",(function(){l.select(this).on("click",null);const e=l.set(d.getCheckedValues());s(t.filter((t=>e.has(t.filename))).map(c.property("document")))})).node();d.onChange=()=>{u.disabled=d.isCheckedEmpty()}}({documentFiles:t,nonDocumentFiles:e.nonDocumentFiles,dialog:o,citeNode:h,importDocuments:function(e){e.concat().reverse().map(a)}})}})).catch((e=>{o.setBodyChildNodes([D(e)].concat(i?["Requested URL: ",i]:[])),o.cancelButtonNode.textContent="Close"})),b=new d((e=>{o.onClose=()=>{m.cancel(),e()}}));return m.return(b)}const L=k,R=k;function C(e,t){const n=document.createElement(e);return n.innerHTML=t,n}function D(e){const{xhr:t}=e;if(t)return C("p",(()=>{switch(e.status){case"abort":return[""];case"timeout":return["<strong>The request timed out.</strong>","You can check your connection and try again."];default:return 404===t.status?["<strong>No GitHub gist exists with that ID.</strong>","It’s possible the ID is incorrect, or the gist was deleted."]:0===t.status?["GitHub could not be reached. Your Internet connection may be offline."]:["The import failed because of a <strong>connection error</strong>.","HTTP status code: "+t.status+" "+t.statusText]}})().join("<br>"));{const t=document.createElement("pre");return t.textContent=y(e),w([C("p","An unexpected error occurred:"),t])}}t.importGist=L,t.importLocalFiles=R,t.runImport=function(e){const t=function(e){function t(e){return e?function(e){return decodeURIComponent(e.replace("+"," "))}(e):""}const n={};return e.split("&").forEach((e=>{const r=e.split("=");n[t(r[0])]=t(r[1])})),n}(location.search.substring(1))["import-gist"];t&&L(c.assign({gistID:t},e)).finally((function(){try{history.replaceState(null,null,location.pathname)}catch(e){}}))}},2618:(e,t,n)=>{"use strict";const r=n(3804);function a(e,t,n){return r.defaults({},n,{state:e,symbol:t})}function o(e){return" "===e?"␣":e}e.exports=class{constructor(e){const t=function(e){const t=r.mapValues(e,((e,t)=>({label:t,transitions:e}))),n=[];return r.forEach(t,((e,s)=>{e.transitions=e.transitions&&(()=>{const i={},c={};return r.forEach(e.transitions,((l,d)=>{const u=d.split(",").reduce(((e,t)=>(""===t&&""===e[e.length-1]?e[e.length-1]=",":e.push(t),e)),[]),h=function(a,o){const s=c[a]||r.tap(c[a]={source:e,target:t[a],labels:[]},n.push.bind(n));return s.labels.push(o),s}(null!=l.state?l.state:s,function(e,t){const n=(null==t.symbol?"":o(String(t.symbol))+",")+String(t.move);return e.map(o).join(",")+"→"+n}(u,l));u.forEach((e=>{i[e]={instruction:a(s,e,l),edge:h}}))})),i})()})),{graph:t,edges:n}}(e);Object.defineProperties(this,{__graph:{value:t.graph},__edges:{value:t.edges}})}getVertexMap(){return this.__graph}getEdges(){return this.__edges}getVertex(e){return this.__graph[e]}getInstructionAndEdge(e,t){const n=this.__graph[e];if(void 0===n)throw new Error("not a valid state: "+String(e));return n.transitions&&n.transitions[t]}}},7099:(e,t,n)=>{"use strict";const{isBrowserIEorEdge:r}=n(4891),a=n(5680),o=n(6215),{assign:s}=n(3804);function i(e,t){return e.map(((e,n)=>e+t[n]))}function c(e,t){return i(e,t.map((e=>-e)))}function l(e){return Math.sqrt(function(e){return e.map((function(e){return e*e})).reduce((function(e,t){return e+t}),0)}(e))}function d(e,t){return[Math.cos(t)*e,Math.sin(t)*e]}class u{constructor(e){e.forEach((function(e){const t=e.source.index+","+e.target.index;this[t]=(this[t]||0)+1}),this)}numEdgesFromTo(e,t){return this[String(e)+","+String(t)]||0}shapeForEdge(e){return e.target.index===e.source.index?h.loop:this.numEdgesFromTo(e.target.index,e.source.index)?h.arc:h.straight}}const h=Object.freeze({loop:{},arc:{},straight:{}});function p(e){return e}function m(){}function b(e,t,n){return Math.max(e,Math.min(n,t))}const g=r?(e,t)=>e.append("div").style({width:"100%",height:"0","padding-bottom":100*t+"%",position:"relative"}).append("svg").style({position:"absolute",top:"0",left:"0"}):e=>e.append("svg");n(8390);const f=o.mapValues(o.pick(["x","y","px","py","fixed"]));e.exports=class{constructor(e,t,n){const r=800,s=500,f=20,y=a.scale.category10(),x=g(e,s/r);x.attr({viewBox:[0,0,r,s].join(" "),version:"1.1",":xmlns":"http://www.w3.org/2000/svg",":xmlns:xlink":"http://www.w3.org/1999/xlink"});const w=t instanceof Array?t:o.values(t);this.__stateMap=t;var v=a.layout.force().nodes(w).links(n).size([r,s]).linkDistance([140]).charge([-500]).theta(.1).gravity(.05).start();const k=v.drag().on("dragstart",(function(e){e.fixed=!0,x.transition().style("box-shadow","inset 0 0 1px gold")})).on("dragend",(function(){x.transition().style("box-shadow",null)})),L=new u(n),R=x.selectAll(".edgepath").data(n).enter().append("g"),C=(e,t)=>String(-1.1*(t+1))+"em",D=(e,t)=>String(.6+1.1*(t+1))+"em";R.each((function(e,t){const n=a.select(this),r=n.append("path").attr({class:"edgepath",id:"edgepath"+t}).each((function(e){e.domNode=this})),o=n.selectAll(".edgelabel").data(e.labels).enter().append("text").attr("class","edgelabel");o.append("textPath").attr("xlink:href",(()=>"#edgepath"+t)).attr("startOffset","50%").text(p);const s=L.shapeForEdge(e);let u;switch(e.getPath=function(e,t,n){let r,a;return t===h.loop?(r=d(e,-15*Math.PI/180),a=" a 19,27 45 1,1 "+r[0]+","+(r[1]+e),()=>"M "+n.source.x+","+(n.source.y-e)+a):t===h.arc?()=>{const t=[n.source.x,n.source.y],r=[n.target.x,n.target.y],a=c(r,t),o=1.2*l(a),s=function(e){const t=e[0],n=e[1];return Math.atan2(n,t)}(a),u=-Math.PI/2/2,h=i(t,d(e,s+u)),p=i(r,d(e,s+Math.PI-u));return t[0]<=r[0]?"M "+h[0]+" "+h[1]+" A "+o+" "+o+" 0 0,1 "+p[0]+" "+p[1]:"M "+p[0]+" "+p[1]+" A "+o+" "+o+" 0 0,0 "+h[0]+" "+h[1]}:t===h.straight?()=>{const t=[n.source.x,n.source.y],r=[n.target.x,n.target.y],a=c(r,t);if(0===a[0]&&0===a[1])return null;const o=c(r,(s=function(e){const t=l(e);return e.map((e=>e/t))}(a),i=e,s.map((e=>i*e))));var s,i;return"M "+t[0]+" "+t[1]+" L "+o[0]+" "+o[1]}:void 0}(f,s,e),s){case h.straight:o.attr("dy",C),e.refreshLabels=()=>{o.attr("transform",(function(){if(e.target.x<e.source.x){const e={x:(t=this.getBBox()).x+t.width/2,y:t.y+t.height/2};return"rotate(180 "+e.x+" "+e.y+")"}return null;var t}))};break;case h.arc:e.refreshLabels=()=>{const t=e.target.x<e.source.x;t!==u&&(r.classed("reversed-arc",t),o.attr("dy",t?D:C),u=t)};break;case h.loop:o.attr("transform",((e,t)=>"translate("+String(8*(t+1))+" "+String(-8*(t+1))+")")),e.refreshLabels=m}}));const S=R.selectAll(".edgepath"),E=x.selectAll(".node").data(w).enter(),A=E.append("circle").attr("class","node").attr("r",f).style("fill",((e,t)=>y(t))).each((function(e){e.domNode=this})).on("dblclick",(function(e){e.fixed=!1,v.resume()})).call(k),I=E.append("text").attr("class","nodelabel").attr("dy","0.25em").text((e=>e.label));x.append("defs").selectAll("marker").data(["arrowhead","active-arrowhead","reversed-arrowhead","reversed-active-arrowhead"]).enter().append("marker").attr({id:function(e){return e},viewBox:"0 -5 10 10",refX:function(e){return 0===e.lastIndexOf("reversed-",0)?0:10},orient:"auto",markerWidth:10,markerHeight:10}).append("path").attr("d","M 0 -5 L 10 0 L 0 5 Z").attr("transform",(e=>0===e.lastIndexOf("reversed-",0)?"rotate(180 5 0)":null));const T=".edgepath {  marker-end: url(#arrowhead);}.edgepath.active-edge {  marker-end: url(#active-arrowhead);}.edgepath.reversed-arc {  marker-start: url(#reversed-arrowhead);  marker-end: none;}.edgepath.active-edge.reversed-arc {  marker-start: url(#reversed-active-arrowhead);  marker-end: none;}";x.append("style").each((function(){this.styleSheet?this.styleSheet.cssText=T:this.textContent=T})),v.on("tick",(()=>{A.attr({cx:function(e){return e.x=b(f,r-f,e.x)},cy:function(e){return e.y=b(f,s-f,e.y)}}),I.attr("x",(e=>e.x)).attr("y",(e=>e.y)),S.attr("d",(e=>e.getPath())),R.each((e=>{e.refreshLabels()})),w.every((e=>e.fixed))&&v.stop()})),this.force=v}get positionTable(){return f(this.__stateMap)}set positionTable(e){!function(e,t){o.forEach(((t,n)=>{const r=e[n];void 0!==r&&s(t,r)}),t)}(e,this.__stateMap),this.force.resume()}}},4075:(e,t,n)=>{"use strict";const{isBrowserIEorEdge:r}=n(4891),a=(()=>{const e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),o=(()=>{let e={};return Object.freeze({get length(){return Object.keys(e).length},key:function(t){return t in Object.keys(e)?Object.keys(e)[t]:null},getItem:function(t){return{}.hasOwnProperty.call(e,t)?e[t]:null},setItem:function(t,n){e[t]=String(n)},removeItem:function(t){delete e[t]},clear:function(){e={}}})})(),s=(()=>{const e=a?localStorage:o,t=r?()=>window.document.hasFocus():()=>!1;return{read:e.getItem.bind(e),write:e.setItem.bind(e),remove:e.removeItem.bind(e),addStorageListener:a?e=>{window.addEventListener("storage",(n=>{t()||n.storageArea===localStorage&&e(n)}))}:()=>{},removeStorageListener:a?window.removeEventListener.bind(window,"storage"):()=>{}}})();t.canUseLocalStorage=a,t.KeyValueStorage=s},7602:(e,t,n)=>{"use strict";const r=n(6215);e.exports=class{constructor(e,t){Object.defineProperty(this,"blank",{value:e,writable:!1,enumerable:!0}),this.tape={before:[],after:null==t||0==t.length?[e]:t.slice().reverse(),toString:function(){return this.before.join("")+"🔎"+this.after.slice().reverse().join("")}}}read(){return r.last(this.tape.after)}write(e){this.tape.after[this.tape.after.length-1]=e}headRight(){const{before:e,after:t}=this.tape;e.push(t.pop()),r.isEmpty(t)&&t.push(this.blank)}headLeft(){const{before:e,after:t}=this.tape;r.isEmpty(e)&&e.push(this.blank),t.push(e.pop())}headNeutral(){}toString(){return this.tape.toString()}readOffset(e){const{tape:t}=this;return e>=0?e<=t.after.length-1?t.after[t.after.length-1-e]:this.blank:e>=-t.before.length?t.before[t.before.length+e]:this.blank}readRange(e,t){return r.range(e,t+1).map((function(e){return this.readOffset(e)}),this)}}},5884:(e,t,n)=>{"use strict";const r=n(7602),a=n(5680);n(5820);function o(e){return e.attr("class","tape-cell"),e.append("rect").datum(null).attr({width:50,height:50}),e.append("text").text((e=>e)).attr({x:25,y:33}),e}function s(e,t){return t=null==t?0:t,e.attr("transform",((e,n)=>"translate("+(50*(n+t)-40)+")")),e}function i(e){e.attr("transform","translate(0 10)").transition().duration(0).select(".exiting").remove()}function c(e,t,n,r,a){t.call(o),n.classed("exiting",!0),e.selectAll(".tape-cell").call(s,a),e.attr("transform","translate("+(50*r).toString()+" 10)").transition().call(i)}e.exports=class extends r{constructor(e,t,n,r){super(n,r),Object.defineProperty(this,"lookaround",{value:t,writable:!1,enumerable:!0}),Object.defineProperty(this,"domNode",{value:e,writable:!1,enumerable:!0});const a=50*(t+1+t-2)+20;e.attr({width:"95%",viewBox:[0,0,a,70].join(" ")}),this.wrapper=e.append("g").attr("class","wrapper").call(i),e.append("rect").attr({id:"tape-head",width:60,height:60,x:50*t-45,y:5}),this.wrapper.selectAll(".tape-cell").data(this.readRange(-t,t)).enter().append("g").call(o).call(s)}write(e){r.prototype.read.call(this)!==e&&(super.write(e),this.wrapper.selectAll(".exiting").remove(),a.select(this.wrapper[0][0].childNodes[this.lookaround]).datum(e).select("text").attr("fill-opacity","1").attr("stroke-opacity","1").transition().attr("fill-opacity","0.4").attr("stroke-opacity","0.1").transition().text((e=>e)).attr("fill-opacity","1").attr("stroke-opacity","1").transition().duration(0).attr("fill-opacity",null).attr("stroke-opacity",null))}headRight(){super.headRight(),this.wrapper.selectAll(".exiting").remove(),c(this.wrapper,this.wrapper.append("g").datum(this.readOffset(this.lookaround)),this.wrapper.select(".tape-cell"),1,-1)}headLeft(){super.headLeft(),this.wrapper.selectAll(".exiting").remove(),c(this.wrapper,this.wrapper.insert("g",":first-child").datum(this.readOffset(-this.lookaround)),this.wrapper.select(".wrapper > .tape-cell:last-of-type"),-1,0)}}},4891:(e,t)=>{"use strict";const n=Boolean(document.documentMode)||Boolean(window.StyleMedia);t.nonNull=function(e){if(null==e)throw new Error("expected a non-null defined value, but got: "+String(e));return e},t.coalesce=function(e,t){return null!=e?e:t},t.applyMaybe=function(e,t){return null!=t?e(t):t},t.getFirst=function(e,t){for(let n=0;n<t.length;++n){const r=e(t[n]);if(null!=r)return r}},t.toDocFragment=function(e){const t=document.createDocumentFragment();return e.forEach(t.appendChild.bind(t)),t},t.isBrowserIEorEdge=n},2645:(e,t)=>{"use strict";function n(e,t,n){const r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r)throw new TypeError("Cannot watch nonexistent property '"+t+"'");if(!r.configurable)throw new TypeError("Cannot watch non-configurable property '"+t+"'");if(!r.writable&&void 0===r.set)return;const a=(()=>{if(r.set)return{get:r.get,set:function(a){return r.set.call(e,n.call(e,t,e[t],a))}};{let a=r.value;return{get:function(){return a},set:function(r){return a=n.call(e,t,a,r)}}}})();return Object.defineProperty(e,t,a),r}t.watch=n,t.watchInit=function(e,t,r){const a=e[t],o=n(e,t,r);return o&&(e[t]=a),o}},5054:e=>{"use strict";e.exports=ClipboardJS},9348:e=>{"use strict";e.exports=Promise},6215:e=>{"use strict";e.exports=_},1881:e=>{"use strict";e.exports=ace},5680:e=>{"use strict";e.exports=d3},3609:e=>{"use strict";e.exports=jQuery},812:e=>{"use strict";e.exports=jsyaml},3804:e=>{"use strict";e.exports=lodash}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/build/",n(2225)})();
//# sourceMappingURL=main.bundle.js.map